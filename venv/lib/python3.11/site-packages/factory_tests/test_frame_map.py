# -*- coding: utf-8 -*-
import os
import tempfile
import unittest
from unittest import TestCase

from factory.backends.frame import load_frame_map


class FrameMapTestCase(TestCase):
    def test(self):
        with tempfile.TemporaryDirectory() as temp:
            path = os.path.join(temp, 'frame_map.csv')
            with open(path, 'w', encoding='utf-8') as fd:
                fd.write('''frame_name;X;Y;Z;new_X;new_Y
ecran.haut;3;21;4;3;21
ecran.commun;2;21;12;2;21
ecran.oblig;2;21;5;2;22
''')
            found = load_frame_map(path)
            expected = {
                'ecran.commun': [(2, 21, 12), (2, 21)],
                'ecran.oblig': [(2, 21, 5), (2, 22)],
                'ecran.haut': [(3, 21, 4), (3, 21)],
            }
            self.assertEqual(expected, found)


if __name__ == '__main__':
    unittest.main()
