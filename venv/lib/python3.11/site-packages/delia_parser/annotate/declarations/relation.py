# -*- coding:utf-8 -*-


class Relation:
    def visit_Relation(self, node):
        self.add_symbol(node)
        for column in node.columns:
            self.visit(column)

        for index in node.indexes:
            for index_name in index:
                self.visit(index_name)

    def visit_SameAsRelation(self, node):
        self.visit(node.subject_name)
        if node.subject_name.definition:
            self.add_symbol(node)
