# -*- coding: utf-8 -*-
import os
import unittest

from delia_mlg.backends import FrameBackend, SanityBackend


class TestFrameBackend(unittest.TestCase):
    def setUp(self):
        super(TestFrameBackend, self).setUp()
        self.backend = FrameBackend(SanityBackend())
        self.project_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'gp')

    def test_parse(self):
        expected = {'   Date des messages ', '   Environnement ', '   Date de travail ',
                    "O pour valider, N pour revenir au debut de masque, D pour  detruire l'instance  ",
                    '   Consultation (O/N) ', 'A&nnuler', "Code de l'environnement a mettre a jour.  ",
                    'Date de session. Sera prise pour date par defaut dans les traitements.  ', '&Valider', 'Other characteristics'}
        self.assertEquals(expected, self.backend.parse_all(self.project_path, 'test'))


if __name__ == '__main__':
    unittest.main()
